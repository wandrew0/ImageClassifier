{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\nvar _utils = require('../utils');\nvar _exception = require('../exception');\nvar _exception2 = _interopRequireDefault(_exception);\nexports['default'] = function (instance) {\n  instance.registerHelper('each', function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n    var fn = options.fn,\n      inverse = options.inverse,\n      i = 0,\n      ret = '',\n      data = undefined,\n      contextPath = undefined;\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else if (typeof Symbol === 'function' && context[Symbol.iterator]) {\n        var newContext = [];\n        var iterator = context[Symbol.iterator]();\n        for (var it = iterator.next(); !it.done; it = iterator.next()) {\n          newContext.push(it.value);\n        }\n        context = newContext;\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        (function () {\n          var priorKey = undefined;\n          Object.keys(context).forEach(function (key) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          });\n          if (priorKey !== undefined) {\n            execIteration(priorKey, i - 1, true);\n          }\n        })();\n      }\n    }\n    if (i === 0) {\n      ret = inverse(this);\n    }\n    return ret;\n  });\n};\nmodule.exports = exports['default'];","map":{"version":3,"names":["instance","registerHelper","context","options","_exception2","fn","inverse","i","ret","data","undefined","contextPath","ids","_utils","appendContextPath","isFunction","call","createFrame","execIteration","field","index","last","key","first","blockParams","isArray","j","length","Symbol","iterator","newContext","it","next","done","push","value","priorKey","Object","keys","forEach"],"sources":["/home/andrewwang/MoneyWatcher/node_modules/handlebars/lib/handlebars/helpers/each.js"],"sourcesContent":["import {\n  appendContextPath,\n  blockParams,\n  createFrame,\n  isArray,\n  isFunction\n} from '../utils';\nimport Exception from '../exception';\n\nexport default function(instance) {\n  instance.registerHelper('each', function(context, options) {\n    if (!options) {\n      throw new Exception('Must pass iterator to #each');\n    }\n\n    let fn = options.fn,\n      inverse = options.inverse,\n      i = 0,\n      ret = '',\n      data,\n      contextPath;\n\n    if (options.data && options.ids) {\n      contextPath =\n        appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret =\n        ret +\n        fn(context[field], {\n          data: data,\n          blockParams: blockParams(\n            [context[field], field],\n            [contextPath + field, null]\n          )\n        });\n    }\n\n    if (context && typeof context === 'object') {\n      if (isArray(context)) {\n        for (let j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else if (typeof Symbol === 'function' && context[Symbol.iterator]) {\n        const newContext = [];\n        const iterator = context[Symbol.iterator]();\n        for (let it = iterator.next(); !it.done; it = iterator.next()) {\n          newContext.push(it.value);\n        }\n        context = newContext;\n        for (let j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        let priorKey;\n\n        Object.keys(context).forEach(key => {\n          // We're running the iterations one step out of sync so we can detect\n          // the last iteration without have to scan the object twice and create\n          // an itermediate keys array.\n          if (priorKey !== undefined) {\n            execIteration(priorKey, i - 1);\n          }\n          priorKey = key;\n          i++;\n        });\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}